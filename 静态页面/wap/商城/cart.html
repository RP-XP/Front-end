<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<link rel="stylesheet" href="./css/public.css" />
<link rel="stylesheet" href="./css/cart.css" />
<link rel="stylesheet" href="./css/style.css" />
<script src="./js/jquery.js"></script>
<script>
$(function(){
	//数量加
	$(".add").click(function(){
		var value = parseInt($(this).parent().children("input").val()) + 1;
		$(this).parent().children("input").val(value);
		getPrice();
	});
	//数量减
	$(".cut").click(function(){
		var value = parseInt($(this).parent().children("input").val()) -1;
		if(value <=1){
			value = 1;	
		}
		$(this).parent().children("input").val(value);
		getPrice();
	});
	//checkbox样式切换
	$(".check").click(function(){
		$(this).toggleClass("uncheck");	
		getPrice();
	});
	//全选和非全选
	var index = 0;
	$("#checkbox").click(function(){
		if(index == 0){
			index = 1;
			$("ul li .check").addClass("uncheck");	
		}else{
			index = 0;
			$("ul li .check").removeClass("uncheck");	
		}
		//设置价格
		getPrice();
	});
	getPrice();
	//获取商品总价格
	function getPrice(){
		//获取选择的商品的价格和设置总价格
		var list = $(".uncheck~.list");
		var sum = 0;
		//获取购物车选择的件数
		var num = 0;
		for(i=0;i<list.length;i++){
			sum = sum + parseInt(list.eq(i).children(".goods").find(".price").html())*parseInt(list.eq(i).children(".goods").find(".num").children("input").val());
			num = num + parseInt(list.eq(i).children(".goods").find(".num").children("input").val());
		}
		//体会价格和购买件数
		$("#sum").html(sum);
		$("#num").html(num);
	}
});
</script>
<title>我的购物车</title>
</head>

<body>
<!--hader begin-->
<div class="header">
	<a href="javascript:history.go(-1)"><img src="images/menu/back.png" width="30" height="25" alt="" class="float1 back" /></a>
	<span>我的购物车</span>
</div>
<!--end header-->

<!--cart begin-->
<div class="cart colletion">
    <!--产品列表-->
    <ul>
    	<li>
            <span class="check uncheck"></span>
            <div class="list">
				<a href="./details.html">
                    <div class="img"><img src="./images/goods/goods1.jpg" width="100%" alt=""></div>
                </a>
                <div class="goods">
                    <div class="goods_title"><a href="./details.html">八通指环通IKGUH8八通E指环通IKGUH8</a></div>
                    <div class="goods_info">商品信息：颜色　材质</div>
                    <div class="goods_price">￥<span class="price">834</span></div>
                    <div class="num">
                    	<a class="cut float1"></a>
                    	<input type="text" class="float1" value="1" />
                    	<a class="add float1"></a>
                        <div class="clear"></div>
                	</div>
                </div>
            </div>
            <div class="close"><img src="./images/goods/close.png" alt=""></div>
        </li>
    	<li>
            <span class="check uncheck"></span>
            <div class="list">
				<a href="./details.html">
                    <div class="img"><img src="./images/goods/goods3.jpg" width="100%" alt=""></div>
                </a>
                <div class="goods">
                    <div class="goods_title"><a href="./details.html">八通指环通IKGUH8八通E指环通IKGUH8</a></div>
                    <div class="goods_info">商品信息：颜色　材质</div>
                    <div class="goods_price">￥<span class="price">245</span></div>
                    <div class="num">
                    	<a class="cut float1"></a>
                    	<input type="text" class="float1" value="1" />
                    	<a class="add float1"></a>
                        <div class="clear"></div>
                	</div>
                </div>
            </div>
            <div class="close"><img src="./images/goods/close.png" alt=""></div>
        </li>
    	<li>
            <span class="check uncheck"></span>
            <div class="list">
				<a href="./details.html">
                    <div class="img"><img src="./images/goods/goods2.jpg" width="100%" alt=""></div>
                </a>
                <div class="goods">
                    <div class="goods_title"><a href="./details.html">八通指环通IKGUH8八通E指环通IKGUH8</a></div>
                    <div class="goods_info">商品信息：颜色　材质</div>
                    <div class="goods_price">￥<span class="price">43</span></div>
                    <div class="num">
                    	<a class="cut float1"></a>
                    	<input type="text" class="float1" value="1" />
                    	<a class="add float1"></a>
                        <div class="clear"></div>
                	</div>
                </div>
            </div>
            <div class="close"><img src="./images/goods/close.png" alt=""></div>
        </li>
    	<li>
            <span class="check uncheck"></span>
            <div class="list">
				<a href="./details.html">
                    <div class="img"><img src="./images/goods/goods4.jpg" width="100%" alt=""></div>
                </a>
                <div class="goods">
                    <div class="goods_title"><a href="./details.html">八通指环通IKGUH8八通E指环通IKGUH8</a></div>
                    <div class="goods_info">商品信息：颜色　材质</div>
                    <div class="goods_price">￥<span class="price">453</span></div>
                    <div class="num">
                    	<a class="cut float1"></a>
                    	<input type="text" class="float1" value="1" />
                    	<a class="add float1"></a>
                        <div class="clear"></div>
                	</div>
                </div>
            </div>
            <div class="close"><img src="./images/goods/close.png" alt=""></div>
        </li>
    </ul>
</div>
<!--end cart-->

<!--footer begin-->
<div class="footer">
	<div class="float1"><span id="checkbox" class="uncheck"></span>&nbsp;总计：￥<span id="sum">285520</span></div>
    <div class="float2"><a href="#">结算</a>(<span id="num">9</span>)</div>
</div>
<!--end footer-->
</body>
</html>
